{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\n\nconst useAxios = configObj => {\n  _s();\n\n  const {\n    axiosInstance,\n    method,\n    url,\n    requestConfig = {}\n  } = configObj;\n  const [response, SetResponse] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const controller = new AbortController();\n\n    const fetchData = async () => {\n      try {\n        const res = await axiosInstance[method.toLowerCase()](url, { ...requestConfig,\n          signal: controller.signal\n        });\n        console.log(res);\n        SetResponse(res.data);\n      } catch (err) {\n        console.log(err.massage);\n        setError(err.massage);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData(); //useEffect cleanup\n\n    return () => controller.abort();\n  }, []);\n  return [response, error, loading];\n};\n\n_s(useAxios, \"tS2MA/Tq5+q3m1j7ONGUogAbWz4=\");\n\nexport default useAxios;","map":{"version":3,"names":["axios","useState","useEffect","useAxios","configObj","axiosInstance","method","url","requestConfig","response","SetResponse","error","setError","loading","setLoading","controller","AbortController","fetchData","res","toLowerCase","signal","console","log","data","err","massage","abort"],"sources":["/Users/alex416/projects/react_app/react-lesson/src/hooks/useAxios.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\n\nconst useAxios = (configObj) => {\n    const {\n        axiosInstance,\n        method,\n        url,\n        requestConfig = {}\n    } = configObj;\n\n    const [response, SetResponse] = useState([]);\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(true);\n\n    useEffect (() => {\n        const controller = new AbortController();\n\n        const fetchData = async () => {\n            try{\n                const res = await axiosInstance[method.toLowerCase()](url, {\n                    ...requestConfig,\n                    signal: controller.signal \n                });\n                console.log(res)\n                SetResponse(res.data)\n            } catch (err) {\n                console.log(err.massage);\n                setError(err.massage);\n            } finally {\n                setLoading(false);\n            }\n        }\n \n        fetchData()\n\n        //useEffect cleanup\n        return () => controller.abort();\n    }, [])\n\n    return [response, error, loading];\n}\n\nexport default useAxios\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,QAAQ,GAAIC,SAAD,IAAe;EAAA;;EAC5B,MAAM;IACFC,aADE;IAEFC,MAFE;IAGFC,GAHE;IAIFC,aAAa,GAAG;EAJd,IAKFJ,SALJ;EAOA,MAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;EAEAC,SAAS,CAAE,MAAM;IACb,MAAMa,UAAU,GAAG,IAAIC,eAAJ,EAAnB;;IAEA,MAAMC,SAAS,GAAG,YAAY;MAC1B,IAAG;QACC,MAAMC,GAAG,GAAG,MAAMb,aAAa,CAACC,MAAM,CAACa,WAAP,EAAD,CAAb,CAAoCZ,GAApC,EAAyC,EACvD,GAAGC,aADoD;UAEvDY,MAAM,EAAEL,UAAU,CAACK;QAFoC,CAAzC,CAAlB;QAIAC,OAAO,CAACC,GAAR,CAAYJ,GAAZ;QACAR,WAAW,CAACQ,GAAG,CAACK,IAAL,CAAX;MACH,CAPD,CAOE,OAAOC,GAAP,EAAY;QACVH,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,OAAhB;QACAb,QAAQ,CAACY,GAAG,CAACC,OAAL,CAAR;MACH,CAVD,SAUU;QACNX,UAAU,CAAC,KAAD,CAAV;MACH;IACJ,CAdD;;IAgBAG,SAAS,GAnBI,CAqBb;;IACA,OAAO,MAAMF,UAAU,CAACW,KAAX,EAAb;EACH,CAvBQ,EAuBN,EAvBM,CAAT;EAyBA,OAAO,CAACjB,QAAD,EAAWE,KAAX,EAAkBE,OAAlB,CAAP;AACH,CAtCD;;GAAMV,Q;;AAwCN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}